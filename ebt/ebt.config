{version, {shell, "../version.sh"}}.
{build, {shell, "printf '%d' $BUILD_NUMBER"}}.

{profiles, [
    {default, [
        {perform, [dialyze, escript, package]}
    ]}
]}.

{compile, [
    {sources, [
        ["src/ebt__do.erl", "src/ebt__cut.erl", "src/ebt__monad.erl", "src/ebt__monad_plus.erl", "src/ebt__xl_autoresource.erl"],
        ["src/*.erl"]
    ]},
    {flags, [warnings_as_errors, debug_info]}
]}.

{libraries, ["../lib"]}.

{escript, [
    {ebt, "-noshell -noinput +d", ["priv/*"]}
]}.

{edoc, [
    {files, [{exclude, ["src/ebt__*"]}]}
]}.

{dialyze, [
    {files, [{exclude, ["src/ebt__*.erl"]}]}
]}.
